(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{s4CU:function(t,e,a){"use strict";a.r(e);var o=a("+SZM"),i=a("4QaF"),s={components:{Layout:o.a,"title-bar":i.a},props:{extensions:Array},data:function(){return{compoName:"Extension",loader:!1,addEdit:"",form:{ext_email:"",ext_phone:"",ext_name:"",ext_location:"",ext_owner:"",ext_image:"",id:""}}},mounted:function(){this.$nextTick((function(){selectActiveMenu(),$(".zero-configuration").DataTable({aaSorting:[]})}))},methods:{onImageChange:function(t){var e=t.target.files||t.dataTransfer.files;return this.createImage(e[0])},createImage:function(t){var e=this,a=new FileReader;a.onload=function(t){e.form.ext_image=t.target.result},a.readAsDataURL(t)},deleteExtension:function(t){var e=this;this.$swal({title:"Delete Extension?",text:"You can't revert your action",type:"success",showCancelButton:!0,confirmButtonText:"Yes, Delete it!",cancelButtonText:"No, Cancel!",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value?axios.get("/extension/delete/"+t).then((function(t){toastr.success(t.data.success,"Success"),e.$inertia.visit("extension")})).catch((function(t){toastr.error(t.response.data.error,"Error")})):e.$swal("Cancelled","Your file is still intact","info")}))},submit:function(){var t=this;this.loader=!0,axios.post("/extension/add",this.form).then((function(e){toastr.success(e.data.success,"Success"),$("#addExtensionModal").modal("hide"),t.$inertia.visit("extension"),t.loader=!1})).catch((function(e){t.loader=!1,toastr.error(e.response.data.message,"Error")}))},currentRec:function(t){this.addEdit="Edit",this.form=t},clearRec:function(){this.addEdit="Add",this.form={}}},created:function(){this.form.image=""}},n=a("KHd+"),r=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("layout",[a("title-bar",{attrs:{name:t.compoName}}),t._v(" "),a("div",{staticClass:"row",attrs:{id:"slide-in"}},[a("div",{staticClass:"col-12 "},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"card-body card-dashboard mb-2"},[a("div",{staticClass:"pull-right"},[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#addExtensionModal"},on:{click:function(e){return t.clearRec()}}},[a("i",{staticClass:"feather icon-home"}),t._v(" Add Extension\r\n                                ")])]),t._v(" "),a("h4",{staticClass:"card-title"},[t._v("Extension")]),t._v(" "),a("div",{staticClass:"table-responsive mt-2"},[a("table",{staticClass:"table table-hover zero-configuration"},[a("thead",[a("tr",[a("th",[t._v("Extension ID")]),t._v(" "),a("th",[t._v("Image")]),t._v(" "),a("th",[t._v("Extension Name")]),t._v(" "),a("th",[t._v("Location")]),t._v(" "),a("th",[t._v("SMR")]),t._v(" "),a("th",[t._v("Email")]),t._v(" "),a("th",[t._v("Phone Number")]),t._v(" "),a("th",[t._v("Action")])])]),t._v(" "),a("tbody",t._l(t.extensions,(function(e,o){return a("tr",{key:e.id},[a("td",[t._v(t._s(o+1)+" ")]),t._v(" "),a("td",{staticClass:"product-img"},[a("div",{staticClass:"avatar mr-1 avatar-xl"},[e.ext_image?a("img",{attrs:{src:e.ext_image,alt:"Img"}}):a("img",{attrs:{src:"/images/logo/gltlogo.png",alt:"Img"}})])]),t._v(" "),a("td",[t._v(t._s(e.ext_name))]),t._v(" "),a("td",[t._v(t._s(e.ext_location))]),t._v(" "),a("td",[t._v(t._s(e.ext_owner))]),t._v(" "),a("td",[t._v(t._s(e.ext_email))]),t._v(" "),a("td",[t._v(t._s(e.ext_phone))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-success btn-rounded btn-sm",attrs:{"data-toggle":"modal","data-target":"#addExtensionModal"},on:{click:function(a){return t.currentRec(e)}}},[a("i",{staticClass:"feather icon-edit"})]),t._v(" "),a("button",{staticClass:"btn btn-info btn-rounded btn-sm",on:{click:function(a){return t.deleteExtension(e.id)}}},[a("i",{staticClass:"feather icon-delete"})])])])})),0)])])])])])])]),t._v(" "),a("div",{staticClass:"modal fade text-left",attrs:{id:"addExtensionModal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel33","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-dialog-scrollable",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel33"}},[t._v(t._s(t.addEdit)+" Extension ")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])]),t._v(" "),a("form",{staticClass:"form form-vertical",attrs:{method:"POST",action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"modal-body row m-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"first-name-icon"}},[t._v("Extension Name")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ext_name,expression:"form.ext_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Extension Name",required:""},domProps:{value:t.form.ext_name},on:{input:function(e){e.target.composing||t.$set(t.form,"ext_name",e.target.value)}}}),t._v(" "),a("div",{staticClass:"form-control-position"},[a("i",{staticClass:"feather icon-home"})])])]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"first-name-icon"}},[t._v("Extension Phone Number")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ext_phone,expression:"form.ext_phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Extension Phone Number"},domProps:{value:t.form.ext_phone},on:{input:function(e){e.target.composing||t.$set(t.form,"ext_phone",e.target.value)}}}),t._v(" "),a("div",{staticClass:"form-control-position"},[a("i",{staticClass:"feather icon-smartphone"})])])]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"email-id-icon"}},[t._v("Extension Email")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ext_email,expression:"form.ext_email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Extension Email Address"},domProps:{value:t.form.ext_email},on:{input:function(e){e.target.composing||t.$set(t.form,"ext_email",e.target.value)}}}),t._v(" "),a("div",{staticClass:"form-control-position"},[a("i",{staticClass:"feather icon-mail"})])])]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"contact-info-icon"}},[t._v("Extension Location")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ext_location,expression:"form.ext_location"}],staticClass:"form-control",attrs:{type:"text",id:"",placeholder:"Extension Location"},domProps:{value:t.form.ext_location},on:{input:function(e){e.target.composing||t.$set(t.form,"ext_location",e.target.value)}}}),t._v(" "),a("div",{staticClass:"form-control-position"},[a("i",{staticClass:"feather icon-navigation"})])])]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"contact-info-icon"}},[t._v("Pastor in Charge")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ext_owner,expression:"form.ext_owner"}],staticClass:"form-control",attrs:{type:"text",id:"",placeholder:"Pastor in Charge"},domProps:{value:t.form.ext_owner},on:{input:function(e){e.target.composing||t.$set(t.form,"ext_owner",e.target.value)}}}),t._v(" "),a("div",{staticClass:"form-control-position"},[a("i",{staticClass:"feather icon-user"})])])]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"pictureFile"}},[t._v("Picture")]),t._v(" "),a("div",{staticClass:"custom-file"},[a("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"pictureFile",accept:"image/*","data-default-file":"","data-height":"200","data-max-file-size":"5M","data-width":"100","data-allowed-file-extensions":"jpg jpeg gif png rpg jfif"},on:{change:t.onImageChange}}),t._v(" "),a("label",{staticClass:"custom-file-label",attrs:{for:"pictureFile"}},[t._v("Upload picture")])])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.id,expression:"form.id"}],attrs:{type:"hidden",id:""},domProps:{value:t.form.id},on:{input:function(e){e.target.composing||t.$set(t.form,"id",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary mr-1  waves-effect waves-light",attrs:{type:"submit"}},[t.loader?a("i",{staticClass:"fa fa-circle-o-notch fa-spin mr-3"}):t._e(),t._v("Save")])])])])])])],1)],1)}),[],!1,null,null,null);e.default=r.exports}}]);