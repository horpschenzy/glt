(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{bV5n:function(t,e,a){"use strict";a.r(e);var s=a("+SZM"),i=a("4QaF"),r={components:{Layout:s.a,"title-bar":i.a},props:{reports:Array,carereports:Array,ahomcarereports:Array},data:function(){return{compoName:"View Report",loader:!1,addEdit:"",service_date:"",service_type:"",form:{unit_name:"",id:""}}},mounted:function(){this.$nextTick((function(){selectActiveMenu(),$(".zero-configuration").DataTable({aaSorting:[]})}))},methods:{deleteHomReport:function(t){var e=this;this.$swal({title:"Delete This Hom care Report?",text:"You can't revert your action",type:"success",showCancelButton:!0,confirmButtonText:"Yes, Delete it!",cancelButtonText:"No, Cancel!",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value?axios.get("/homreport/delete/"+t).then((function(t){toastr.success(t.data.success,"Success"),e.$inertia.visit("/view/report")})).catch((function(t){toastr.error(t.response.data.message,"Error")})):e.$swal("Cancelled","Your file is still intact","info")}))},deleteAhomReport:function(t){var e=this;this.$swal({title:"Delete This AHOM Care Report?",text:"You can't revert your action",type:"success",showCancelButton:!0,confirmButtonText:"Yes, Delete it!",cancelButtonText:"No, Cancel!",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value?axios.get("/ahomreport/delete/"+t).then((function(t){toastr.success(t.data.success,"Success"),e.$inertia.visit("/view/report")})).catch((function(t){toastr.error(t.response.data.message,"Error")})):e.$swal("Cancelled","Your file is still intact","info")}))},deleteReport:function(t){var e=this;this.$swal({title:"Delete This Service Report?",text:"You can't revert your action",type:"success",showCancelButton:!0,confirmButtonText:"Yes, Delete it!",cancelButtonText:"No, Cancel!",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value?axios.get("/report/delete/"+t).then((function(t){toastr.success(t.data.success,"Success"),e.$inertia.visit("/view/report")})).catch((function(t){toastr.error(t.response.data.message,"Error")})):e.$swal("Cancelled","Your file is still intact","info")}))},submit:function(){var t=this;this.loader=!0,axios.post("/unit/add",this.form).then((function(e){toastr.success(e.data.success,"Success"),$("#addUnitModal").modal("hide"),t.$inertia.visit("unit"),t.loader=!1})).catch((function(e){t.loader=!1,toastr.error(e.response.data.message,"Error")}))},generateReport:function(){$("#generateReportModal").modal("hide"),this.$inertia.visit("/generate/service/report/"+this.service_date+"/"+this.service_type)},currentRec:function(t){this.addEdit="Edit",this.form=t},clearRec:function(){this.addEdit="Add",this.form={}}}},o=a("KHd+"),n=Object(o.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("layout",[a("div",{staticClass:"pull-right"},[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#generateReportModal"}},[t._v("\n                Generate Report\n            ")])]),t._v(" "),a("title-bar",{attrs:{name:t.compoName}}),t._v(" "),a("div",{staticClass:"row",attrs:{id:"slide-in"}},[a("div",{staticClass:"col-12 "},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"card-body card-dashboard mb-2"},[a("div",{staticClass:"pull-right"},[a("inertiaLink",{staticClass:"btn btn-primary",attrs:{href:"/report"}},[a("i",{staticClass:"feather icon-home"}),t._v(" Reports\n                                ")])],1),t._v(" "),a("h4",{staticClass:"card-title"},[t._v(" HOM Care Report ")]),t._v(" "),a("div",{staticClass:"table-responsive mt-2"},[a("table",{staticClass:"table table-hover zero-configuration"},[a("thead",[a("tr",[a("th",[t._v("S/N")]),t._v(" "),a("th",[t._v("Date")]),t._v(" "),a("th",[t._v("Description")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",t._l(t.carereports,(function(e,s){return a("tr",{key:e.id},[a("td",[t._v(t._s(s+1)+" ")]),t._v(" "),a("td",[t._v(t._s(e.month))]),t._v(" "),a("td",[t._v(t._s(e.ministry.min_name))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-info btn-rounded btn-sm",on:{click:function(a){return t.deleteHomReport(e.id)}}},[a("i",{staticClass:"feather icon-delete"})])])])})),0)])])])])])]),t._v(" "),a("div",{staticClass:"col-12 "},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"card-body card-dashboard mb-2"},[a("h4",{staticClass:"card-title"},[t._v(" AHOM Care Report ")]),t._v(" "),a("div",{staticClass:"table-responsive mt-2"},[a("table",{staticClass:"table table-hover zero-configuration"},[a("thead",[a("tr",[a("th",[t._v("S/N")]),t._v(" "),a("th",[t._v(" Date")]),t._v(" "),a("th",[t._v("Description")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",t._l(t.ahomcarereports,(function(e,s){return a("tr",{key:e.id},[a("td",[t._v(t._s(s+1)+" ")]),t._v(" "),a("td",[t._v(t._s(e.month))]),t._v(" "),a("td",[t._v(t._s(e.ministry.min_name))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-info btn-rounded btn-sm",on:{click:function(a){return t.deleteAhomReport(e.id)}}},[a("i",{staticClass:"feather icon-delete"})])])])})),0)])])])])])]),t._v(" "),a("div",{staticClass:"col-12 "},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"card-body card-dashboard mb-2"},[a("h4",{staticClass:"card-title"},[t._v(" Service Report")]),t._v(" "),a("div",{staticClass:"table-responsive mt-2"},[a("table",{staticClass:"table table-hover zero-configuration"},[a("thead",[a("tr",[a("th",[t._v("S/N")]),t._v(" "),a("th",[t._v("Service Date")]),t._v(" "),a("th",[t._v("Service Type")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",t._l(t.reports,(function(e,s){return a("tr",{key:e.id},[a("td",[t._v(t._s(s+1)+" ")]),t._v(" "),a("td",[t._v(t._s(e.service_date))]),t._v(" "),a("td",[t._v(t._s(e.service_type))]),t._v(" "),a("td",[a("a",{staticClass:"btn btn-success btn-rounded btn-sm",attrs:{href:"/service/report/"+e.id,target:"_blank"}},[t._v("view")]),t._v(" "),a("button",{staticClass:"btn btn-info btn-rounded btn-sm",on:{click:function(a){return t.deleteReport(e.id)}}},[a("i",{staticClass:"feather icon-delete"})])])])})),0)])])])])])])]),t._v(" "),a("div",{staticClass:"modal fade text-left",attrs:{id:"generateReportModal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel33","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-dialog-scrollable",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel33"}},[t._v("Generate Report ")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])]),t._v(" "),a("form",{staticClass:"form form-vertical",attrs:{method:"POST",action:"#"},on:{submit:function(e){return e.preventDefault(),t.generateReport(e)}}},[a("div",{staticClass:"modal-body row m-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"first-name-icon"}},[t._v("Service Date")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.service_date,expression:"service_date"}],staticClass:"form-control",attrs:{type:"date",required:""},domProps:{value:t.service_date},on:{input:function(e){e.target.composing||(t.service_date=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"first-name-icon"}},[t._v("Service Type")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.service_type,expression:"service_type"}],staticClass:"custom-select form-control",attrs:{id:"servicetype",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.service_type=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Select Service Type")]),t._v(" "),a("option",{attrs:{value:"Sunday Service"}},[t._v("Sunday Service")]),t._v(" "),a("option",{attrs:{value:"Special Miracle Service"}},[t._v("SMS")]),t._v(" "),a("option",{attrs:{value:"Bible study"}},[t._v("Bible Study")]),t._v(" "),a("option",{attrs:{value:"Vigil"}},[t._v("Vigil")]),t._v(" "),a("option",{attrs:{value:"SOTM Event"}},[t._v("SOTM Event")])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary mr-1  waves-effect waves-light",attrs:{type:"submit"}},[t.loader?a("i",{staticClass:"fa fa-circle-o-notch fa-spin mr-3"}):t._e(),t._v("Generate")])])])])])])],1)],1)}),[],!1,null,null,null);e.default=n.exports}}]);