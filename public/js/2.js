(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{f2NE:function(t,e,a){"use strict";a.r(e);var s=a("+SZM"),o=a("4QaF"),i={components:{Layout:s.a,"title-bar":o.a},props:{extensions:Array,users:Array,roles:Array},data:function(){return{compoName:"Users",loader:!1,addEdit:"",form:{email:"",phone:"",name:"",password:"",username:"",extension_id:"",id:"",status:"",role_id:""}}},mounted:function(){this.$nextTick((function(){selectActiveMenu(),$(".zero-configuration").DataTable({aaSorting:[]})}))},methods:{formatString:function(t){return t.replace("-"," ").replace("-"," ").toUpperCase()},deleteUser:function(t){var e=this;this.$swal({title:"Delete User?",text:"You can't revert your action",type:"success",showCancelButton:!0,confirmButtonText:"Yes, Delete it!",cancelButtonText:"No, Cancel!",showCloseButton:!0,showLoaderOnConfirm:!0}).then((function(a){a.value?axios.get("/user/delete/"+t).then((function(t){toastr.success(t.data.success,"Success"),e.$inertia.visit("users")})).catch((function(t){toastr.error(t.response.data.message,"Error")})):e.$swal("Cancelled","Your file is still intact","info")}))},submit:function(){var t=this;axios.post("/user/add",this.form).then((function(e){toastr.success(e.data.success,"Success"),$("#addUsersModal").modal("hide"),t.$inertia.visit("users")})).catch((function(e){t.loader=!1,toastr.error(e.response.data.message,"Error")}))},currentRec:function(t){this.addEdit="Edit",this.form=t},clearRec:function(){this.addEdit="Add",this.form={}}}},r=a("KHd+"),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("layout",[a("title-bar",{attrs:{name:t.compoName}}),t._v(" "),a("div",{staticClass:"row",attrs:{id:"slide-in"}},[a("div",{staticClass:"col-12 "},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"card-body card-dashboard mb-2"},[a("div",{staticClass:"pull-right"},[a("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#addUsersModal"},on:{click:function(e){return t.clearRec()}}},[a("i",{staticClass:"feather icon-home"}),t._v(" Add Users\n                                ")])]),t._v(" "),a("h4",{staticClass:"card-title"},[t._v("Users")]),t._v(" "),a("div",{staticClass:"table-responsive mt-2"},[a("table",{staticClass:"table table-hover zero-configuration"},[a("thead",[a("tr",[a("th",[t._v("User ID")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Email")]),t._v(" "),a("th",[t._v("Phone Number")]),t._v(" "),a("th",[t._v("Username")]),t._v(" "),a("th",[t._v("Extension")]),t._v(" "),a("th",[t._v("Role")]),t._v(" "),a("th",[t._v("Action")])])]),t._v(" "),a("tbody",t._l(t.users,(function(e,s){return a("tr",{key:e.id},[a("td",[t._v(t._s(s+1)+" ")]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.email))]),t._v(" "),a("td",[t._v(t._s(e.phone))]),t._v(" "),a("td",[t._v(t._s(e.username))]),t._v(" "),a("td",[t._v(t._s(e.extension?e.extension.ext_name:""))]),t._v(" "),a("td",[t._v(t._s(e.roles[0]?t.formatString(e.roles[0].name):""))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-success btn-rounded btn-sm",attrs:{"data-toggle":"modal","data-target":"#addUsersModal"},on:{click:function(a){return t.currentRec(e)}}},[a("i",{staticClass:"feather icon-edit"})]),t._v(" "),a("button",{staticClass:"btn btn-info btn-rounded btn-sm",on:{click:function(a){return t.deleteUser(e.id)}}},[a("i",{staticClass:"feather icon-delete"})])])])})),0)])])])])])])]),t._v(" "),a("div",{staticClass:"modal fade text-left",attrs:{id:"addUsersModal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel33","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-dialog-scrollable",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel33"}},[t._v(t._s(t.addEdit)+" Users ")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])]),t._v(" "),a("form",{staticClass:"form form-vertical",attrs:{method:"POST",action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"modal-body row m-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"first-name-icon"}},[t._v("Name")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),a("div",{staticClass:"form-control-position"},[a("i",{staticClass:"feather icon-home"})])])]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"first-name-icon"}},[t._v("Password")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Enter Password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),a("div",{staticClass:"form-control-position"},[a("i",{staticClass:"feather icon-lock"})])])]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"first-name-icon"}},[t._v("Username")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Username",required:""},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t._v(" "),a("div",{staticClass:"form-control-position"},[a("i",{staticClass:"feather icon-home"})])])]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"first-name-icon"}},[t._v(" Phone Number")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Phone Number"},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}}),t._v(" "),a("div",{staticClass:"form-control-position"},[a("i",{staticClass:"feather icon-smartphone"})])])]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"email-id-icon"}},[t._v(" Email")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Enter Email Address"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),a("div",{staticClass:"form-control-position"},[a("i",{staticClass:"feather icon-mail"})])])]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"contact-info-icon"}},[t._v(" Extension")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.extension_id,expression:"form.extension_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"extension_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Select Extension")]),t._v(" "),t._l(t.extensions,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.ext_name))])}))],2)])]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"contact-info-icon"}},[t._v("Roles ")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.role_id,expression:"form.role_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"role_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Select Roles")]),t._v(" "),t._l(t.roles,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(t.formatString(e.name)))])}))],2)])]),t._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"contact-info-icon"}},[t._v("Status ")]),t._v(" "),a("div",{staticClass:"position-relative has-icon-left"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.status,expression:"form.status"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"status",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Select Status")]),t._v(" "),a("option",{attrs:{value:"Active"}},[t._v("Active")]),t._v(" "),a("option",{attrs:{value:"Deactivated"}},[t._v("Deactivated")]),t._v(" "),a("option",{attrs:{value:"Suspended"}},[t._v("Suspended")])])])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.id,expression:"form.id"}],attrs:{type:"hidden",id:""},domProps:{value:t.form.id},on:{input:function(e){e.target.composing||t.$set(t.form,"id",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary mr-1  waves-effect waves-light",attrs:{type:"submit"}},[t.loader?a("i",{staticClass:"fa fa-circle-o-notch fa-spin mr-3"}):t._e(),t._v("Save")])])])])])])],1)],1)}),[],!1,null,null,null);e.default=n.exports}}]);